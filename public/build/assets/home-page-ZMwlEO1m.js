let u=0;const D=document.querySelectorAll(".hero-slide"),J=document.querySelectorAll(".slider-dot"),A=D.length;function I(t){D.forEach((e,s)=>{e.classList.toggle("active",s===t)}),J.forEach((e,s)=>{e.classList.toggle("active",s===t)})}function y(){u=(u+1)%A,I(u)}function j(){u=(u-1+A)%A,I(u)}const W=document.getElementById("next-slide"),U=document.getElementById("prev-slide"),ie=D.length>0&&W&&U;if(ie){W.addEventListener("click",y),U.addEventListener("click",j),document.addEventListener("keydown",s=>{if(["ArrowRight","ArrowLeft"].includes(s.key)){const n=document.activeElement.tagName;n!=="INPUT"&&n!=="TEXTAREA"&&(s.key==="ArrowRight"?y():j())}}),J.forEach((s,n)=>{s.addEventListener("click",()=>{u=n,I(u)})});let t=setInterval(y,6e3);const e=document.querySelector(".hero");e&&(e.addEventListener("mouseenter",()=>{clearInterval(t)}),e.addEventListener("mouseleave",()=>{t=setInterval(y,6e3)}))}const H=document.getElementById("theme-toggle"),q=document.documentElement,w=document.querySelector(".light-icon"),x=document.querySelector(".dark-icon");H&&w&&x&&((localStorage.getItem("theme")||"light")==="dark"&&(q.classList.add("dark"),w.style.display="none",x.style.display="block"),H.addEventListener("click",()=>{q.classList.toggle("dark");const e=q.classList.contains("dark");w.style.display=e?"none":"block",x.style.display=e?"block":"none",localStorage.setItem("theme",e?"dark":"light")}));const v=document.getElementById("mobile-menu-btn"),l=document.getElementById("mobile-menu");v&&l&&(v.addEventListener("click",()=>{const e=l.classList.toggle("active"),s=v.querySelector("i");s&&(s.className=e?"fas fa-times":"fas fa-bars")}),l.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{l.classList.remove("active");const s=v.querySelector("i");s&&(s.className="fas fa-bars")})}),document.addEventListener("click",e=>{if(!l.contains(e.target)&&!v.contains(e.target)){l.classList.remove("active");const s=v.querySelector("i");s&&(s.className="fas fa-bars")}}));document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const s=document.querySelector(this.getAttribute("href"));if(s){const n=s.offsetTop-80;window.scrollTo({top:n,behavior:"smooth"})}})});const ce={threshold:.1,rootMargin:"0px 0px -50px 0px"},re=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate")})},ce);document.querySelectorAll(".animate-on-scroll").forEach(t=>{re.observe(t)});const P=document.getElementById("navbar");window.addEventListener("scroll",()=>{window.scrollY>100?P.classList.add("scrolled"):P.classList.remove("scrolled")});function le(){document.querySelectorAll(".stat-number").forEach(e=>{if(e.classList.contains("counted"))return;e.classList.add("counted");const s=e.textContent;if(!isNaN(s.replace("+","").replace("%",""))){const o=parseInt(s.replace(/\D/g,"")),c=o/100;let g=0;const ae=setInterval(()=>{g+=c,g>=o?(e.textContent=s,clearInterval(ae)):e.textContent=Math.floor(g)+(s.includes("+")?"+":s.includes("%")?"%":"")},20)}})}const V=document.querySelector(".stats-section");if(V){const t=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&(le(),t.unobserve(s.target))})},{threshold:.5});t.observe(V)}document.addEventListener("keydown",t=>{if(t.key==="Escape"&&l.classList.contains("active")){l.classList.remove("active");const e=v.querySelector("i");e.className="fas fa-bars"}});document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.style.opacity="1"},100)});I(0);const X=document.querySelectorAll(".gallery-item");let i=null;function de(){i=document.createElement("div"),i.className="lightbox",i.innerHTML=`
<div class="lightbox-content">
<button class="lightbox-close">
    <i class="fas fa-times"></i>
</button>
<div id="lightbox-image"></div>
</div>
`,document.body.appendChild(i),i.querySelector(".lightbox-close").addEventListener("click",B),i.addEventListener("click",t=>{t.target===i&&B()})}function ue(t){i||de();const e=i.querySelector("#lightbox-image"),n=document.querySelector(`[data-image="${t}"]`).querySelector("svg").cloneNode(!0);n.style.width="100%",n.style.height="auto",n.style.maxWidth="800px",n.style.maxHeight="600px",e.innerHTML="",e.appendChild(n),i.classList.add("active"),document.body.style.overflow="hidden"}function B(){i&&(i.classList.remove("active"),document.body.style.overflow="")}X.forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.image;ue(e)})});document.addEventListener("keydown",t=>{t.key==="Escape"&&i&&i.classList.contains("active")&&B()});let m=0;const Y=document.getElementById("testimonials-track"),M=document.querySelectorAll(".testimonial-dot"),T=M.length;function k(t){Y&&(Y.style.transform=`translateX(-${t*100}%)`,M.forEach((e,s)=>{e.classList.toggle("active",s===t)}))}function G(){m=(m+1)%T,k(m)}M.forEach((t,e)=>{t.addEventListener("click",()=>{m=e,k(m)})});setInterval(G,8e3);const F=document.getElementById("testimonial-prev"),Q=document.getElementById("testimonial-next");F&&F.addEventListener("click",()=>{m=(m-1+T)%T,k(m)});Q&&Q.addEventListener("click",()=>{G()});k(0);const K=document.querySelectorAll(".blog-card");K.forEach((t,e)=>{t.style.animationDelay=`${e*.2}s`});const E=document.getElementById("faq-search"),S=document.querySelectorAll(".faq-item"),b=document.querySelectorAll(".faq-category"),me=document.querySelectorAll(".faq-question");function ve(t){const e=t.toLowerCase();S.forEach(s=>{const n=s.querySelector(".faq-question span").textContent.toLowerCase(),o=s.querySelector(".faq-answer-content").textContent.toLowerCase();n.includes(e)||o.includes(e)?s.style.display="block":s.style.display=e===""?"block":"none"})}function ge(t){S.forEach(e=>{t==="all"||e.dataset.category===t?e.style.display="block":e.style.display="none"})}E&&E.addEventListener("input",t=>{ve(t.target.value),t.target.value&&(b.forEach(e=>e.classList.remove("active")),b[0].classList.add("active"))});b.forEach(t=>{t.addEventListener("click",()=>{E&&(E.value=""),b.forEach(e=>e.classList.remove("active")),t.classList.add("active"),ge(t.dataset.category)})});me.forEach(t=>{t.addEventListener("click",()=>{const e=t.closest(".faq-item"),s=e.classList.contains("active");S.forEach(n=>{n!==e&&n.classList.remove("active")}),e.classList.toggle("active",!s)})});const _=new IntersectionObserver(t=>{t.forEach((e,s)=>{e.isIntersecting&&(setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateY(0) scale(1)"},s*100),_.unobserve(e.target))})},{threshold:.1});X.forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px) scale(0.9)",t.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",_.observe(t)});const Z=new IntersectionObserver(t=>{t.forEach((e,s)=>{e.isIntersecting&&(setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateY(0)"},s*150),Z.unobserve(e.target))})},{threshold:.1});K.forEach(t=>{t.style.opacity="0",t.style.transform="translateY(40px)",t.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",Z.observe(t)});const ee=new IntersectionObserver(t=>{t.forEach((e,s)=>{e.isIntersecting&&(setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateX(0)"},s*100),ee.unobserve(e.target))})},{threshold:.1});S.forEach(t=>{t.style.opacity="0",t.style.transform="translateX(-20px)",t.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",ee.observe(t)});const fe=document.querySelectorAll('a[href^="#"]');fe.forEach(t=>{t.getAttribute("href").startsWith("#slide")||t.addEventListener("click",function(e){e.preventDefault();const s=this.getAttribute("href"),n=document.querySelector(s);if(n){const o=n.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}})});const ye=document.querySelectorAll(".gallery-item svg, .blog-image svg"),te=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",te.unobserve(e.target))})});ye.forEach(t=>{t.style.opacity="0",t.style.transition="opacity 0.3s ease",te.observe(t)});console.log("ğŸš€ New Custom Agency - Toutes les fonctionnalitÃ©s premium chargÃ©es avec succÃ¨s !");const pe=document.getElementById("chatbot-toggle"),he=document.getElementById("chatbot-window"),C=document.getElementById("chatbot-messages"),L=document.getElementById("chat-input"),Ee=document.getElementById("chat-send"),se=document.getElementById("chatbot-badge");let f=!1,r={devis:"Pour un devis personnalisÃ©, je peux vous orienter vers notre calculateur automatique ou vous pouvez remplir notre formulaire de contact. Quel service vous intÃ©resse ?",tracking:'Pour suivre votre colis, veuillez me communiquer votre numÃ©ro de suivi. Il commence gÃ©nÃ©ralement par "NCA" suivi de 8 chiffres.',services:`Nos services principaux sont :
â€¢ DÃ©douanement expert
â€¢ Transport multimodal
â€¢ Entreposage sÃ©curisÃ©
â€¢ Gestion hydrocarbures

Sur quoi puis-je vous renseigner ?`,contact:`Vous pouvez nous contacter :
ğŸ“ (+243) 84 45 47 797
ğŸ“ Avenue Kasavubu, 24 Lubumbashi
ğŸ’¬ WhatsApp disponible

Ou prendre RDV directement !`,tarifs:"Nos tarifs dÃ©pendent de plusieurs facteurs : poids, volume, destination, urgence. Utilisez notre calculateur pour une estimation immÃ©diate !",delais:`Nos dÃ©lais standard :
â€¢ DÃ©douanement : 24-48h
â€¢ Transport national : 2-5 jours
â€¢ Service express disponible

Voulez-vous plus de dÃ©tails ?`,horaires:`Nos horaires :
ğŸ•’ Lun-Ven : 8h-17h
ğŸ•’ Samedi : 8h-12h
ğŸš¨ Support urgence : 24h/7j

Nous sommes actuellement en ligne !`,documents:`Documents requis :
ğŸ“„ Facture commerciale
ğŸ“„ Connaissement
ğŸ“„ Liste de colisage
ğŸ“„ Certificat d'origine

Besoin d'aide pour les prÃ©parer ?`};function z(){f=!f,he.classList.toggle("active",f),f&&(L.focus(),se.style.display="none")}function N(t,e=!1){const s=document.createElement("div");s.className=`chat-message ${e?"user":"bot"}`,e?s.innerHTML=`<div class="message-content">${t}</div>`:s.innerHTML=`
<div class="message-avatar">NCA</div>
<div class="message-content">${t.replace(/\n/g,"<br>")}</div>
`,C.appendChild(s),C.scrollTop=C.scrollHeight}function be(t){const e=t.toLowerCase();return e.includes("prix")||e.includes("tarif")||e.includes("coÃ»t")?r.tarifs:e.includes("suivi")||e.includes("tracking")||e.includes("colis")?r.tracking:e.includes("dÃ©lai")||e.includes("temps")||e.includes("durÃ©e")?r.delais:e.includes("document")||e.includes("papier")||e.includes("certificat")?r.documents:e.includes("horaire")||e.includes("ouvert")||e.includes("fermÃ©")?r.horaires:e.includes("service")||e.includes("prestation")?r.services:e.includes("contact")||e.includes("tÃ©lÃ©phone")||e.includes("adresse")?r.contact:e.includes("devis")||e.includes("estimation")||e.includes("calculer")?r.devis:e.includes("bonjour")||e.includes("salut")||e.includes("hello")?"ğŸ‘‹ Bonjour ! Je suis ravi de vous aider. En quoi puis-je vous Ãªtre utile aujourd'hui ?":e.includes("merci")||e.includes("thanks")?"ğŸ˜Š Je vous en prie ! N'hÃ©sitez pas si vous avez d'autres questions. Bonne journÃ©e !":`Je comprends votre question. Pour une rÃ©ponse prÃ©cise, je vous recommande de :
â€¢ Utiliser notre calculateur de devis
â€¢ Consulter notre FAQ
â€¢ Contacter directement nos experts

Que prÃ©fÃ©rez-vous ?`}function ne(){const t=L.value.trim();t&&(N(t,!0),L.value="",setTimeout(()=>{const e=be(t);N(e)},1e3))}pe.addEventListener("click",z);Ee.addEventListener("click",ne);L.addEventListener("keypress",t=>{t.key==="Enter"&&ne()});document.addEventListener("click",t=>{if(t.target.classList.contains("suggestion-btn")){const e=t.target.dataset.suggestion;r[e]&&N(r[e])}});const Le=document.getElementById("whatsapp-btn");Le.addEventListener("click",()=>{const s=`https://wa.me/24382126418?text=${encodeURIComponent("Bonjour New Custom Agency ! Je souhaite obtenir des informations sur vos services logistiques.")}`;window.open(s,"_blank")});const O=document.getElementById("rdv-modal"),Ie=document.getElementById("rdv-close"),p=document.querySelectorAll(".rdv-step"),h=document.getElementById("rdv-next"),oe=document.getElementById("rdv-prev");let d=1,a={type:"",date:"",time:"",name:"",email:"",phone:"",company:"",message:""};function ke(){O.classList.add("active"),document.body.style.overflow="hidden",Se()}function R(){O.classList.remove("active"),document.body.style.overflow="",d=1,$(1)}function $(t){p.forEach((e,s)=>{e.classList.toggle("active",s+1===t)}),oe.style.display=t>1?"inline-flex":"none",t===p.length?(qe(),h.style.display="none"):(h.style.display="inline-flex",h.textContent=t===p.length-1?"RÃ©capitulatif":"Suivant")}function Se(){const t=document.getElementById("calendar-grid"),e=new Date,s=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"];t.innerHTML="",s.forEach(n=>{const o=document.createElement("div");o.textContent=n,o.style.fontWeight="600",o.style.textAlign="center",o.style.padding="0.5rem",t.appendChild(o)});for(let n=1;n<=14;n++){const o=new Date(e);o.setDate(e.getDate()+n);const c=document.createElement("div");c.className="calendar-day",c.textContent=o.getDate(),c.dataset.date=o.toISOString().split("T")[0],o.getDay()===0||o.getDay()===6?c.classList.add("disabled"):c.addEventListener("click",()=>{document.querySelectorAll(".calendar-day").forEach(g=>g.classList.remove("selected")),c.classList.add("selected"),a.date=c.dataset.date}),t.appendChild(c)}}function qe(){const t=document.getElementById("rdv-summary"),s=new Date(a.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});t.innerHTML=`
<div class="summary-item">
<span>Type de consultation :</span>
<span>${a.type}</span>
</div>
<div class="summary-item">
<span>Date :</span>
<span>${s}</span>
</div>
<div class="summary-item">
<span>Heure :</span>
<span>${a.time}</span>
</div>
<div class="summary-item">
<span>Contact :</span>
<span>${a.name} - ${a.email}</span>
</div>
`}document.addEventListener("click",t=>{t.target.closest(".btn")&&t.target.textContent.includes("Prendre rendez-vous")&&ke(),t.target.closest("[data-rdv-type]")&&(document.querySelectorAll("[data-rdv-type]").forEach(e=>e.classList.remove("selected")),t.target.closest("[data-rdv-type]").classList.add("selected"),a.type=t.target.closest("[data-rdv-type]").dataset.rdvType),t.target.classList.contains("time-slot")&&!t.target.classList.contains("unavailable")&&(document.querySelectorAll(".time-slot").forEach(e=>e.classList.remove("selected")),t.target.classList.add("selected"),a.time=t.target.dataset.time)});Ie.addEventListener("click",R);h.addEventListener("click",()=>{if(d<p.length){if(d===4&&(a.name=document.getElementById("rdv-name").value,a.email=document.getElementById("rdv-email").value,a.phone=document.getElementById("rdv-phone").value,a.company=document.getElementById("rdv-company").value,a.message=document.getElementById("rdv-message").value,!a.name||!a.email||!a.phone)){alert("Veuillez remplir tous les champs obligatoires");return}d++,$(d)}});oe.addEventListener("click",()=>{d>1&&(d--,$(d))});document.getElementById("confirm-rdv").addEventListener("click",()=>{alert("ğŸ‰ Rendez-vous confirmÃ© ! Vous recevrez un email de confirmation sous peu."),R()});document.addEventListener("click",t=>{t.target.textContent.includes("Demander un devis")&&t.target.classList.contains("suggestion-btn")&&z()});setTimeout(()=>{se.style.display="flex"},3e3);document.addEventListener("keydown",t=>{t.key==="Escape"&&(O.classList.contains("active")&&R(),f&&z())});console.log("ğŸ’¬ FonctionnalitÃ©s Communication Client activÃ©es !");
