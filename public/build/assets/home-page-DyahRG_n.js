let u=0;const P=document.querySelectorAll(".hero-slide"),V=document.querySelectorAll(".slider-dot"),w=P.length;function L(e){P.forEach((t,s)=>{t.classList.toggle("active",s===e)}),V.forEach((t,s)=>{t.classList.toggle("active",s===e)})}function k(){u=(u+1)%w,L(u)}function Y(){u=(u-1+w)%w,L(u)}document.getElementById("next-slide").addEventListener("click",k);document.getElementById("prev-slide").addEventListener("click",Y);document.addEventListener("keydown",e=>{if(["ArrowRight","ArrowLeft"].includes(e.key)){const t=document.activeElement.tagName;t!=="INPUT"&&t!=="TEXTAREA"&&(e.key==="ArrowRight"?k():Y())}});V.forEach((e,t)=>{e.addEventListener("click",()=>{u=t,L(u)})});let F=setInterval(k,6e3);const Q=document.querySelector(".hero");Q.addEventListener("mouseenter",()=>{clearInterval(F)});Q.addEventListener("mouseleave",()=>{F=setInterval(k,6e3)});const ae=document.getElementById("theme-toggle"),x=document.documentElement,J=document.querySelector(".light-icon"),W=document.querySelector(".dark-icon"),ce=localStorage.getItem("theme")||"light";ce==="dark"&&(x.classList.add("dark"),J.style.display="none",W.style.display="block");ae.addEventListener("click",()=>{x.classList.toggle("dark");const e=x.classList.contains("dark");J.style.display=e?"none":"block",W.style.display=e?"block":"none",localStorage.setItem("theme",e?"dark":"light")});const v=document.getElementById("mobile-menu-btn"),i=document.getElementById("mobile-menu");v.addEventListener("click",()=>{const e=i.classList.contains("hidden");e?(i.classList.remove("hidden"),i.classList.add("block")):(i.classList.add("hidden"),i.classList.remove("block"));const t=v.querySelector("i");t.className=e?"fas fa-times":"fas fa-bars"});const ie=i.querySelectorAll("a");ie.forEach(e=>{e.addEventListener("click",()=>{i.classList.add("hidden"),i.classList.remove("block");const t=v.querySelector("i");t.className="fas fa-bars"})});document.addEventListener("click",e=>{if(!i.contains(e.target)&&!v.contains(e.target)){i.classList.add("hidden"),i.classList.remove("block");const t=v.querySelector("i");t.className="fas fa-bars"}});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const s=document.querySelector(this.getAttribute("href"));if(s){const n=s.offsetTop-80;window.scrollTo({top:n,behavior:"smooth"})}})});const re={threshold:.1,rootMargin:"0px 0px -50px 0px"},le=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("animate")})},re);document.querySelectorAll(".animate-on-scroll").forEach(e=>{le.observe(e)});const O=document.getElementById("navbar");window.addEventListener("scroll",()=>{window.scrollY>100?O.classList.add("scrolled"):O.classList.remove("scrolled")});function de(){document.querySelectorAll(".stat-number").forEach(t=>{if(t.classList.contains("counted"))return;t.classList.add("counted");const s=t.textContent;if(!isNaN(s.replace("+","").replace("%",""))){const o=parseInt(s.replace(/\D/g,"")),r=o/100;let g=0;const oe=setInterval(()=>{g+=r,g>=o?(t.textContent=s,clearInterval(oe)):t.textContent=Math.floor(g)+(s.includes("+")?"+":s.includes("%")?"%":"")},20)}})}const R=document.querySelector(".stats-section");if(R){const e=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting&&(de(),e.unobserve(s.target))})},{threshold:.5});e.observe(R)}document.addEventListener("keydown",e=>{if(e.key==="Escape"&&i.classList.contains("active")){i.classList.remove("active");const t=v.querySelector("i");t.className="fas fa-bars"}});document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.style.opacity="1"},100)});L(0);const U=document.querySelectorAll(".gallery-item");let c=null;function ue(){c=document.createElement("div"),c.className="lightbox",c.innerHTML=`
<div class="lightbox-content">
<button class="lightbox-close">
    <i class="fas fa-times"></i>
</button>
<div id="lightbox-image"></div>
</div>
`,document.body.appendChild(c),c.querySelector(".lightbox-close").addEventListener("click",C),c.addEventListener("click",e=>{e.target===c&&C()})}function me(e){c||ue();const t=c.querySelector("#lightbox-image"),n=document.querySelector(`[data-image="${e}"]`).querySelector("svg").cloneNode(!0);n.style.width="100%",n.style.height="auto",n.style.maxWidth="800px",n.style.maxHeight="600px",t.innerHTML="",t.appendChild(n),c.classList.add("active"),document.body.style.overflow="hidden"}function C(){c&&(c.classList.remove("active"),document.body.style.overflow="")}U.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.image;me(t)})});document.addEventListener("keydown",e=>{e.key==="Escape"&&c&&c.classList.contains("active")&&C()});let m=0;const $=document.getElementById("testimonials-track"),T=document.querySelectorAll(".testimonial-dot"),B=T.length;function I(e){$&&($.style.transform=`translateX(-${e*100}%)`,T.forEach((t,s)=>{t.classList.toggle("active",s===e)}))}function X(){m=(m+1)%B,I(m)}T.forEach((e,t)=>{e.addEventListener("click",()=>{m=t,I(m)})});setInterval(X,8e3);const j=document.getElementById("testimonial-prev"),H=document.getElementById("testimonial-next");j&&j.addEventListener("click",()=>{m=(m-1+B)%B,I(m)});H&&H.addEventListener("click",()=>{X()});I(0);const G=document.querySelectorAll(".blog-card");G.forEach((e,t)=>{e.style.animationDelay=`${t*.2}s`});const h=document.getElementById("faq-search"),S=document.querySelectorAll(".faq-item"),E=document.querySelectorAll(".faq-category"),ve=document.querySelectorAll(".faq-question");function ge(e){const t=e.toLowerCase();S.forEach(s=>{const n=s.querySelector(".faq-question span").textContent.toLowerCase(),o=s.querySelector(".faq-answer-content").textContent.toLowerCase();n.includes(t)||o.includes(t)?s.style.display="block":s.style.display=t===""?"block":"none"})}function fe(e){S.forEach(t=>{e==="all"||t.dataset.category===e?t.style.display="block":t.style.display="none"})}h&&h.addEventListener("input",e=>{ge(e.target.value),e.target.value&&(E.forEach(t=>t.classList.remove("active")),E[0].classList.add("active"))});E.forEach(e=>{e.addEventListener("click",()=>{h&&(h.value=""),E.forEach(t=>t.classList.remove("active")),e.classList.add("active"),fe(e.dataset.category)})});ve.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".faq-item"),s=t.classList.contains("active");S.forEach(n=>{n!==t&&n.classList.remove("active")}),t.classList.toggle("active",!s)})});const K=new IntersectionObserver(e=>{e.forEach((t,s)=>{t.isIntersecting&&(setTimeout(()=>{t.target.style.opacity="1",t.target.style.transform="translateY(0) scale(1)"},s*100),K.unobserve(t.target))})},{threshold:.1});U.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px) scale(0.9)",e.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",K.observe(e)});const _=new IntersectionObserver(e=>{e.forEach((t,s)=>{t.isIntersecting&&(setTimeout(()=>{t.target.style.opacity="1",t.target.style.transform="translateY(0)"},s*150),_.unobserve(t.target))})},{threshold:.1});G.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(40px)",e.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",_.observe(e)});const Z=new IntersectionObserver(e=>{e.forEach((t,s)=>{t.isIntersecting&&(setTimeout(()=>{t.target.style.opacity="1",t.target.style.transform="translateX(0)"},s*100),Z.unobserve(t.target))})},{threshold:.1});S.forEach(e=>{e.style.opacity="0",e.style.transform="translateX(-20px)",e.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",Z.observe(e)});const ye=document.querySelectorAll('a[href^="#"]');ye.forEach(e=>{e.getAttribute("href").startsWith("#slide")||e.addEventListener("click",function(t){t.preventDefault();const s=this.getAttribute("href"),n=document.querySelector(s);if(n){const o=n.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}})});const pe=document.querySelectorAll(".gallery-item svg, .blog-image svg"),ee=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",ee.unobserve(t.target))})});pe.forEach(e=>{e.style.opacity="0",e.style.transition="opacity 0.3s ease",ee.observe(e)});console.log("ğŸš€ New Custom Agency - Toutes les fonctionnalitÃ©s premium chargÃ©es avec succÃ¨s !");const he=document.getElementById("chatbot-toggle"),Ee=document.getElementById("chatbot-window"),q=document.getElementById("chatbot-messages"),b=document.getElementById("chat-input"),be=document.getElementById("chat-send"),te=document.getElementById("chatbot-badge");let f=!1,l={devis:"Pour un devis personnalisÃ©, je peux vous orienter vers notre calculateur automatique ou vous pouvez remplir notre formulaire de contact. Quel service vous intÃ©resse ?",tracking:'Pour suivre votre colis, veuillez me communiquer votre numÃ©ro de suivi. Il commence gÃ©nÃ©ralement par "NCA" suivi de 8 chiffres.',services:`Nos services principaux sont :
â€¢ DÃ©douanement expert
â€¢ Transport multimodal
â€¢ Entreposage sÃ©curisÃ©
â€¢ Gestion hydrocarbures

Sur quoi puis-je vous renseigner ?`,contact:`Vous pouvez nous contacter :
ğŸ“ (+243) 84 45 47 797
ğŸ“ Avenue Kasavubu, 24 Lubumbashi
ğŸ’¬ WhatsApp disponible

Ou prendre RDV directement !`,tarifs:"Nos tarifs dÃ©pendent de plusieurs facteurs : poids, volume, destination, urgence. Utilisez notre calculateur pour une estimation immÃ©diate !",delais:`Nos dÃ©lais standard :
â€¢ DÃ©douanement : 24-48h
â€¢ Transport national : 2-5 jours
â€¢ Service express disponible

Voulez-vous plus de dÃ©tails ?`,horaires:`Nos horaires :
ğŸ•’ Lun-Ven : 8h-17h
ğŸ•’ Samedi : 8h-12h
ğŸš¨ Support urgence : 24h/7j

Nous sommes actuellement en ligne !`,documents:`Documents requis :
ğŸ“„ Facture commerciale
ğŸ“„ Connaissement
ğŸ“„ Liste de colisage
ğŸ“„ Certificat d'origine

Besoin d'aide pour les prÃ©parer ?`};function N(){f=!f,Ee.classList.toggle("active",f),f&&(b.focus(),te.style.display="none")}function A(e,t=!1){const s=document.createElement("div");s.className=`chat-message ${t?"user":"bot"}`,t?s.innerHTML=`<div class="message-content">${e}</div>`:s.innerHTML=`
<div class="message-avatar">NCA</div>
<div class="message-content">${e.replace(/\n/g,"<br>")}</div>
`,q.appendChild(s),q.scrollTop=q.scrollHeight}function Le(e){const t=e.toLowerCase();return t.includes("prix")||t.includes("tarif")||t.includes("coÃ»t")?l.tarifs:t.includes("suivi")||t.includes("tracking")||t.includes("colis")?l.tracking:t.includes("dÃ©lai")||t.includes("temps")||t.includes("durÃ©e")?l.delais:t.includes("document")||t.includes("papier")||t.includes("certificat")?l.documents:t.includes("horaire")||t.includes("ouvert")||t.includes("fermÃ©")?l.horaires:t.includes("service")||t.includes("prestation")?l.services:t.includes("contact")||t.includes("tÃ©lÃ©phone")||t.includes("adresse")?l.contact:t.includes("devis")||t.includes("estimation")||t.includes("calculer")?l.devis:t.includes("bonjour")||t.includes("salut")||t.includes("hello")?"ğŸ‘‹ Bonjour ! Je suis ravi de vous aider. En quoi puis-je vous Ãªtre utile aujourd'hui ?":t.includes("merci")||t.includes("thanks")?"ğŸ˜Š Je vous en prie ! N'hÃ©sitez pas si vous avez d'autres questions. Bonne journÃ©e !":`Je comprends votre question. Pour une rÃ©ponse prÃ©cise, je vous recommande de :
â€¢ Utiliser notre calculateur de devis
â€¢ Consulter notre FAQ
â€¢ Contacter directement nos experts

Que prÃ©fÃ©rez-vous ?`}function se(){const e=b.value.trim();e&&(A(e,!0),b.value="",setTimeout(()=>{const t=Le(e);A(t)},1e3))}he.addEventListener("click",N);be.addEventListener("click",se);b.addEventListener("keypress",e=>{e.key==="Enter"&&se()});document.addEventListener("click",e=>{if(e.target.classList.contains("suggestion-btn")){const t=e.target.dataset.suggestion;l[t]&&A(l[t])}});const ke=document.getElementById("whatsapp-btn");ke.addEventListener("click",()=>{const s=`https://wa.me/24382126418?text=${encodeURIComponent("Bonjour New Custom Agency ! Je souhaite obtenir des informations sur vos services logistiques.")}`;window.open(s,"_blank")});const D=document.getElementById("rdv-modal"),Ie=document.getElementById("rdv-close"),y=document.querySelectorAll(".rdv-step"),p=document.getElementById("rdv-next"),ne=document.getElementById("rdv-prev");let d=1,a={type:"",date:"",time:"",name:"",email:"",phone:"",company:"",message:""};function Se(){D.classList.add("active"),document.body.style.overflow="hidden",qe()}function M(){D.classList.remove("active"),document.body.style.overflow="",d=1,z(1)}function z(e){y.forEach((t,s)=>{t.classList.toggle("active",s+1===e)}),ne.style.display=e>1?"inline-flex":"none",e===y.length?(we(),p.style.display="none"):(p.style.display="inline-flex",p.textContent=e===y.length-1?"RÃ©capitulatif":"Suivant")}function qe(){const e=document.getElementById("calendar-grid"),t=new Date,s=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"];e.innerHTML="",s.forEach(n=>{const o=document.createElement("div");o.textContent=n,o.style.fontWeight="600",o.style.textAlign="center",o.style.padding="0.5rem",e.appendChild(o)});for(let n=1;n<=14;n++){const o=new Date(t);o.setDate(t.getDate()+n);const r=document.createElement("div");r.className="calendar-day",r.textContent=o.getDate(),r.dataset.date=o.toISOString().split("T")[0],o.getDay()===0||o.getDay()===6?r.classList.add("disabled"):r.addEventListener("click",()=>{document.querySelectorAll(".calendar-day").forEach(g=>g.classList.remove("selected")),r.classList.add("selected"),a.date=r.dataset.date}),e.appendChild(r)}}function we(){const e=document.getElementById("rdv-summary"),s=new Date(a.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});e.innerHTML=`
<div class="summary-item">
<span>Type de consultation :</span>
<span>${a.type}</span>
</div>
<div class="summary-item">
<span>Date :</span>
<span>${s}</span>
</div>
<div class="summary-item">
<span>Heure :</span>
<span>${a.time}</span>
</div>
<div class="summary-item">
<span>Contact :</span>
<span>${a.name} - ${a.email}</span>
</div>
`}document.addEventListener("click",e=>{e.target.closest(".btn")&&e.target.textContent.includes("Prendre rendez-vous")&&Se(),e.target.closest("[data-rdv-type]")&&(document.querySelectorAll("[data-rdv-type]").forEach(t=>t.classList.remove("selected")),e.target.closest("[data-rdv-type]").classList.add("selected"),a.type=e.target.closest("[data-rdv-type]").dataset.rdvType),e.target.classList.contains("time-slot")&&!e.target.classList.contains("unavailable")&&(document.querySelectorAll(".time-slot").forEach(t=>t.classList.remove("selected")),e.target.classList.add("selected"),a.time=e.target.dataset.time)});Ie.addEventListener("click",M);p.addEventListener("click",()=>{if(d<y.length){if(d===4&&(a.name=document.getElementById("rdv-name").value,a.email=document.getElementById("rdv-email").value,a.phone=document.getElementById("rdv-phone").value,a.company=document.getElementById("rdv-company").value,a.message=document.getElementById("rdv-message").value,!a.name||!a.email||!a.phone)){alert("Veuillez remplir tous les champs obligatoires");return}d++,z(d)}});ne.addEventListener("click",()=>{d>1&&(d--,z(d))});document.getElementById("confirm-rdv").addEventListener("click",()=>{alert("ğŸ‰ Rendez-vous confirmÃ© ! Vous recevrez un email de confirmation sous peu."),M()});document.addEventListener("click",e=>{e.target.textContent.includes("Demander un devis")&&e.target.classList.contains("suggestion-btn")&&N()});setTimeout(()=>{te.style.display="flex"},3e3);document.addEventListener("keydown",e=>{e.key==="Escape"&&(D.classList.contains("active")&&M(),f&&N())});console.log("ğŸ’¬ FonctionnalitÃ©s Communication Client activÃ©es !");
