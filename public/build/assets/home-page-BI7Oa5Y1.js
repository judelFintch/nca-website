let d=0;const B=document.querySelectorAll(".hero-slide"),j=document.querySelectorAll(".slider-dot"),w=B.length;function L(t){B.forEach((e,s)=>{e.classList.toggle("active",s===t)}),j.forEach((e,s)=>{e.classList.toggle("active",s===t)})}function f(){d=(d+1)%w,L(d)}function D(){d=(d-1+w)%w,L(d)}const O=document.getElementById("next-slide"),$=document.getElementById("prev-slide"),J=B.length>0&&O&&$;if(J){O.addEventListener("click",f),$.addEventListener("click",D),document.addEventListener("keydown",s=>{if(["ArrowRight","ArrowLeft"].includes(s.key)){const n=document.activeElement.tagName;n!=="INPUT"&&n!=="TEXTAREA"&&(s.key==="ArrowRight"?f():D())}}),j.forEach((s,n)=>{s.addEventListener("click",()=>{d=n,L(d)})});let t=setInterval(f,6e3);const e=document.querySelector(".hero");e&&(e.addEventListener("mouseenter",()=>{clearInterval(t)}),e.addEventListener("mouseleave",()=>{t=setInterval(f,6e3)}))}const M=document.getElementById("theme-toggle"),S=document.documentElement,k=document.querySelector(".light-icon"),I=document.querySelector(".dark-icon");M&&k&&I&&((localStorage.getItem("theme")||"light")==="dark"&&(S.classList.add("dark"),k.style.display="none",I.style.display="block"),M.addEventListener("click",()=>{S.classList.toggle("dark");const e=S.classList.contains("dark");k.style.display=e?"none":"block",I.style.display=e?"block":"none",localStorage.setItem("theme",e?"dark":"light")}));const u=document.getElementById("mobile-menu-btn"),r=document.getElementById("mobile-menu");u&&r&&(u.addEventListener("click",()=>{const e=r.classList.toggle("active"),s=u.querySelector("i");s&&(s.className=e?"fas fa-times":"fas fa-bars")}),r.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{r.classList.remove("active");const s=u.querySelector("i");s&&(s.className="fas fa-bars")})}),document.addEventListener("click",e=>{if(!r.contains(e.target)&&!u.contains(e.target)){r.classList.remove("active");const s=u.querySelector("i");s&&(s.className="fas fa-bars")}}));document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const s=document.querySelector(this.getAttribute("href"));if(s){const n=s.offsetTop-80;window.scrollTo({top:n,behavior:"smooth"})}})});const U={threshold:.1,rootMargin:"0px 0px -50px 0px"},W=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate")})},U);document.querySelectorAll(".animate-on-scroll").forEach(t=>{W.observe(t)});const R=document.getElementById("navbar");window.addEventListener("scroll",()=>{window.scrollY>100?R.classList.add("scrolled"):R.classList.remove("scrolled")});function X(){document.querySelectorAll(".stat-number").forEach(e=>{if(e.classList.contains("counted"))return;e.classList.add("counted");const s=e.textContent;if(!isNaN(s.replace("+","").replace("%",""))){const o=parseInt(s.replace(/\D/g,"")),c=o/100;let m=0;const Q=setInterval(()=>{m+=c,m>=o?(e.textContent=s,clearInterval(Q)):e.textContent=Math.floor(m)+(s.includes("+")?"+":s.includes("%")?"%":"")},20)}})}const z=document.querySelector(".stats-section");if(z){const t=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&(X(),t.unobserve(s.target))})},{threshold:.5});t.observe(z)}document.addEventListener("keydown",t=>{if(t.key==="Escape"&&r.classList.contains("active")){r.classList.remove("active");const e=u.querySelector("i");e.className="fas fa-bars"}});document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.body.style.opacity="1"},100)});L(0);const y=document.getElementById("faq-search"),b=document.querySelectorAll(".faq-item"),h=document.querySelectorAll(".faq-category"),Y=document.querySelectorAll(".faq-question");function G(t){const e=t.toLowerCase();b.forEach(s=>{const n=s.querySelector(".faq-question span").textContent.toLowerCase(),o=s.querySelector(".faq-answer-content").textContent.toLowerCase();n.includes(e)||o.includes(e)?s.style.display="block":s.style.display=e===""?"block":"none"})}function K(t){b.forEach(e=>{t==="all"||e.dataset.category===t?e.style.display="block":e.style.display="none"})}y&&y.addEventListener("input",t=>{G(t.target.value),t.target.value&&(h.forEach(e=>e.classList.remove("active")),h[0].classList.add("active"))});h.forEach(t=>{t.addEventListener("click",()=>{y&&(y.value=""),h.forEach(e=>e.classList.remove("active")),t.classList.add("active"),K(t.dataset.category)})});Y.forEach(t=>{t.addEventListener("click",()=>{const e=t.closest(".faq-item"),s=e.classList.contains("active");b.forEach(n=>{n!==e&&n.classList.remove("active")}),e.classList.toggle("active",!s)})});const H=new IntersectionObserver(t=>{t.forEach((e,s)=>{e.isIntersecting&&(setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateX(0)"},s*100),H.unobserve(e.target))})},{threshold:.1});b.forEach(t=>{t.style.opacity="0",t.style.transform="translateX(-20px)",t.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",H.observe(t)});const _=document.querySelectorAll('a[href^="#"]');_.forEach(t=>{t.getAttribute("href").startsWith("#slide")||t.addEventListener("click",function(e){e.preventDefault();const s=this.getAttribute("href"),n=document.querySelector(s);if(n){const o=n.offsetTop-80;window.scrollTo({top:o,behavior:"smooth"})}})});console.log("ğŸš€ New Custom Agency - Toutes les fonctionnalitÃ©s premium chargÃ©es avec succÃ¨s !");const Z=document.getElementById("chatbot-toggle"),ee=document.getElementById("chatbot-window"),q=document.getElementById("chatbot-messages"),E=document.getElementById("chat-input"),te=document.getElementById("chat-send"),P=document.getElementById("chatbot-badge");let v=!1,i={devis:"Pour un devis personnalisÃ©, je peux vous orienter vers notre calculateur automatique ou vous pouvez remplir notre formulaire de contact. Quel service vous intÃ©resse ?",tracking:'Pour suivre votre colis, veuillez me communiquer votre numÃ©ro de suivi. Il commence gÃ©nÃ©ralement par "NCA" suivi de 8 chiffres.',services:`Nos services principaux sont :
â€¢ DÃ©douanement expert
â€¢ Transport multimodal
â€¢ Entreposage sÃ©curisÃ©
â€¢ Gestion hydrocarbures

Sur quoi puis-je vous renseigner ?`,contact:`Vous pouvez nous contacter :
ğŸ“ (+243) 84 45 47 797
ğŸ“ Avenue Kasavubu, 24 Lubumbashi
ğŸ’¬ WhatsApp disponible

Ou prendre RDV directement !`,tarifs:"Nos tarifs dÃ©pendent de plusieurs facteurs : poids, volume, destination, urgence. Utilisez notre calculateur pour une estimation immÃ©diate !",delais:`Nos dÃ©lais standard :
â€¢ DÃ©douanement : 24-48h
â€¢ Transport national : 2-5 jours
â€¢ Service express disponible

Voulez-vous plus de dÃ©tails ?`,horaires:`Nos horaires :
ğŸ•’ Lun-Ven : 8h-17h
ğŸ•’ Samedi : 8h-12h
ğŸš¨ Support urgence : 24h/7j

Nous sommes actuellement en ligne !`,documents:`Documents requis :
ğŸ“„ Facture commerciale
ğŸ“„ Connaissement
ğŸ“„ Liste de colisage
ğŸ“„ Certificat d'origine

Besoin d'aide pour les prÃ©parer ?`};function A(){v=!v,ee.classList.toggle("active",v),v&&(E.focus(),P.style.display="none")}function C(t,e=!1){const s=document.createElement("div");s.className=`chat-message ${e?"user":"bot"}`,e?s.innerHTML=`<div class="message-content">${t}</div>`:s.innerHTML=`
<div class="message-avatar">NCA</div>
<div class="message-content">${t.replace(/\n/g,"<br>")}</div>
`,q.appendChild(s),q.scrollTop=q.scrollHeight}function se(t){const e=t.toLowerCase();return e.includes("prix")||e.includes("tarif")||e.includes("coÃ»t")?i.tarifs:e.includes("suivi")||e.includes("tracking")||e.includes("colis")?i.tracking:e.includes("dÃ©lai")||e.includes("temps")||e.includes("durÃ©e")?i.delais:e.includes("document")||e.includes("papier")||e.includes("certificat")?i.documents:e.includes("horaire")||e.includes("ouvert")||e.includes("fermÃ©")?i.horaires:e.includes("service")||e.includes("prestation")?i.services:e.includes("contact")||e.includes("tÃ©lÃ©phone")||e.includes("adresse")?i.contact:e.includes("devis")||e.includes("estimation")||e.includes("calculer")?i.devis:e.includes("bonjour")||e.includes("salut")||e.includes("hello")?"ğŸ‘‹ Bonjour ! Je suis ravi de vous aider. En quoi puis-je vous Ãªtre utile aujourd'hui ?":e.includes("merci")||e.includes("thanks")?"ğŸ˜Š Je vous en prie ! N'hÃ©sitez pas si vous avez d'autres questions. Bonne journÃ©e !":`Je comprends votre question. Pour une rÃ©ponse prÃ©cise, je vous recommande de :
â€¢ Utiliser notre calculateur de devis
â€¢ Consulter notre FAQ
â€¢ Contacter directement nos experts

Que prÃ©fÃ©rez-vous ?`}function V(){const t=E.value.trim();t&&(C(t,!0),E.value="",setTimeout(()=>{const e=se(t);C(e)},1e3))}Z.addEventListener("click",A);te.addEventListener("click",V);E.addEventListener("keypress",t=>{t.key==="Enter"&&V()});document.addEventListener("click",t=>{if(t.target.classList.contains("suggestion-btn")){const e=t.target.dataset.suggestion;i[e]&&C(i[e])}});const ne=document.getElementById("whatsapp-btn");ne.addEventListener("click",()=>{const s=`https://wa.me/24382126418?text=${encodeURIComponent("Bonjour New Custom Agency ! Je souhaite obtenir des informations sur vos services logistiques.")}`;window.open(s,"_blank")});const x=document.getElementById("rdv-modal"),oe=document.getElementById("rdv-close"),g=document.querySelectorAll(".rdv-step"),p=document.getElementById("rdv-next"),F=document.getElementById("rdv-prev");let l=1,a={type:"",date:"",time:"",name:"",email:"",phone:"",company:"",message:""};function ae(){x.classList.add("active"),document.body.style.overflow="hidden",ce()}function T(){x.classList.remove("active"),document.body.style.overflow="",l=1,N(1)}function N(t){g.forEach((e,s)=>{e.classList.toggle("active",s+1===t)}),F.style.display=t>1?"inline-flex":"none",t===g.length?(ie(),p.style.display="none"):(p.style.display="inline-flex",p.textContent=t===g.length-1?"RÃ©capitulatif":"Suivant")}function ce(){const t=document.getElementById("calendar-grid"),e=new Date,s=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"];t.innerHTML="",s.forEach(n=>{const o=document.createElement("div");o.textContent=n,o.style.fontWeight="600",o.style.textAlign="center",o.style.padding="0.5rem",t.appendChild(o)});for(let n=1;n<=14;n++){const o=new Date(e);o.setDate(e.getDate()+n);const c=document.createElement("div");c.className="calendar-day",c.textContent=o.getDate(),c.dataset.date=o.toISOString().split("T")[0],o.getDay()===0||o.getDay()===6?c.classList.add("disabled"):c.addEventListener("click",()=>{document.querySelectorAll(".calendar-day").forEach(m=>m.classList.remove("selected")),c.classList.add("selected"),a.date=c.dataset.date}),t.appendChild(c)}}function ie(){const t=document.getElementById("rdv-summary"),s=new Date(a.date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});t.innerHTML=`
<div class="summary-item">
<span>Type de consultation :</span>
<span>${a.type}</span>
</div>
<div class="summary-item">
<span>Date :</span>
<span>${s}</span>
</div>
<div class="summary-item">
<span>Heure :</span>
<span>${a.time}</span>
</div>
<div class="summary-item">
<span>Contact :</span>
<span>${a.name} - ${a.email}</span>
</div>
`}document.addEventListener("click",t=>{t.target.closest(".btn")&&t.target.textContent.includes("Prendre rendez-vous")&&ae(),t.target.closest("[data-rdv-type]")&&(document.querySelectorAll("[data-rdv-type]").forEach(e=>e.classList.remove("selected")),t.target.closest("[data-rdv-type]").classList.add("selected"),a.type=t.target.closest("[data-rdv-type]").dataset.rdvType),t.target.classList.contains("time-slot")&&!t.target.classList.contains("unavailable")&&(document.querySelectorAll(".time-slot").forEach(e=>e.classList.remove("selected")),t.target.classList.add("selected"),a.time=t.target.dataset.time)});oe.addEventListener("click",T);p.addEventListener("click",()=>{if(l<g.length){if(l===4&&(a.name=document.getElementById("rdv-name").value,a.email=document.getElementById("rdv-email").value,a.phone=document.getElementById("rdv-phone").value,a.company=document.getElementById("rdv-company").value,a.message=document.getElementById("rdv-message").value,!a.name||!a.email||!a.phone)){alert("Veuillez remplir tous les champs obligatoires");return}l++,N(l)}});F.addEventListener("click",()=>{l>1&&(l--,N(l))});document.getElementById("confirm-rdv").addEventListener("click",()=>{alert("ğŸ‰ Rendez-vous confirmÃ© ! Vous recevrez un email de confirmation sous peu."),T()});document.addEventListener("click",t=>{t.target.textContent.includes("Demander un devis")&&t.target.classList.contains("suggestion-btn")&&A()});setTimeout(()=>{P.style.display="flex"},3e3);document.addEventListener("keydown",t=>{t.key==="Escape"&&(x.classList.contains("active")&&T(),v&&A())});console.log("ğŸ’¬ FonctionnalitÃ©s Communication Client activÃ©es !");
